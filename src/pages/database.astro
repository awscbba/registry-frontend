---
import Layout from '../layouts/Layout.astro';
import DatabasePerformancePanel from '../components/performance/DatabasePerformancePanel';
import QueryOptimizationPanel from '../components/performance/QueryOptimizationPanel';
import ConnectionPoolMonitor from '../components/performance/ConnectionPoolMonitor';
import DatabaseCharts from '../components/performance/DatabaseCharts';
---

<Layout title="Database Optimization - AWS User Group Cochabamba">
	<div class="min-h-screen bg-gray-50">
		<div class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
			<div class="px-4 py-6 sm:px-0">
				<div class="space-y-6">
					<!-- Page Header -->
					<div class="bg-white shadow rounded-lg p-6">
						<h1 class="text-2xl font-bold text-gray-900 mb-2">Database Optimization Dashboard</h1>
						<p class="text-gray-600">Monitor and optimize database performance with real-time metrics, query analysis, and connection pool management.</p>
					</div>

					<!-- Database Performance Panel -->
					<DatabasePerformancePanel client:load showDetailedMetrics={true} />

					<!-- Database Charts -->
					<DatabaseCharts client:load timeRange="24h" metrics={['queryTime', 'poolUtilization', 'throughput', 'connections']} />

					<!-- Query Optimization Panel -->
					<QueryOptimizationPanel client:load showRecommendations={true} allowOptimizationApplication={true} />

					<!-- Connection Pool Monitor -->
					<ConnectionPoolMonitor client:load showAllPools={true} alertThreshold={0.8} />
				</div>
			</div>
		</div>
	</div>
</Layout>
